#!/usr/bin/env bash
set -euo pipefail

pids=()
while IFS= read -r pid; do
  pids+=("$pid")
done < <(pgrep -x vim || true)
while IFS= read -r pid; do
  pids+=("$pid")
done < <(pgrep -x nvim || true)
while IFS= read -r pid; do
  pids+=("$pid")
done < <(pgrep -x gvim || true)

if [[ ${#pids[@]} -eq 0 ]]; then
  echo "No Vim processes found."
  exit 0
fi

printf '%s\n' "${pids[@]}" | xargs -n1 sudo kill -9
